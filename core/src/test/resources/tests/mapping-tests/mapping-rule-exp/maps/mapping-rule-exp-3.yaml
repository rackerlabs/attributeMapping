---
mapping:
  rules:
  - remote:
    - path: "/saml2p:Response/saml2:Assertion/saml2:Subject/saml2:NameID"
    - path: mapping:get-attribute('email')
    - path: mapping:get-attribute('domain')
    - path: mapping:get-attributes('roles')
      multiValue: true
    - path: "/saml2p:Response/saml2:Assertion/saml2:Subject/saml2:SubjectConfirmation/saml2:SubjectConfirmationData/@NotOnOrAfter"
    local:
      user:
        domain: "{2}"
        name: "{0}"
        email: "{1}"
        roles:
          - "{3}"
        expire: "{4}"
  version: RAX-1
